<MainScreen>:
    orientation: 'vertical'
    text_input: text_input

    BoxLayout:
        orientation: 'vertical'
        size_hint_y: None
        height: '50dp'

        # Toolbar with control buttons
        BoxLayout:
            id: toolbar
            size_hint_y: None
            height: '50dp'
            orientation: 'horizontal'

            Button:
                text: 'Load File'
                on_press: root.load_file()

            Button:
                text: 'Save File'
                on_press: root.save_file()

            Button:
                text: 'Listen'
                on_press: root.play_audio()

            Button:
                text: 'Generate'
                on_press: root.generate_audio()

            Button:
                text: 'Settings'
                on_press: root.open_settings()

    # Adjustable Split View for the text input and additional functionalities
    Splitter:
        sizable_from: 'top'
        orientation: 'vertical'

        TextInput:
            id: text_input
            multiline: True
            hint_text: 'Enter your text here or load from a file...'
            # on_text: root.adjust_split_view()

        # SSML tag editing tools within the split view
        BoxLayout:
            size_hint_y: None
            height: '50dp'

            Button:
                text: 'Add Break'
                on_press: root.insert_ssml_tag('break')

            Button:
                text: 'Change Pitch'
                on_press: root.insert_ssml_tag('pitch')

            Button:
                text: 'Emphasize'
                on_press: root.insert_ssml_tag('emphasis')

    # Playback controls
    BoxLayout:
        size_hint_y: None
        height: '50dp'

        Button:
            text: 'Play'
            on_press: root.playback_control('play')

        Button:
            text: 'Pause'
            on_press: root.playback_control('pause')

        Button:
            text: 'Stop'
            on_press: root.playback_control('stop')

    # Status and logs
    Label:
        size_hint_y: None
        height: '30dp'
        text: 'Status: Idle'
        id: status_label